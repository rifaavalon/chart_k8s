## Datadog Agent Configuration
## Generated by Ansible - Do not edit manually

api_key: {{ datadog_api_key }}
site: {{ datadog_site }}

## Hostname
hostname: {{ datadog_config.hostname | default(ansible_hostname) }}

## Tags
tags:
{% for tag in datadog_config.tags %}
  - {{ tag }}
{% endfor %}

## Logging
log_level: {{ datadog_config.log_level | default('info') }}

## APM Configuration
{% if datadog_apm_enabled | bool %}
apm_config:
  enabled: true
  apm_non_local_traffic: true
  receiver_port: {{ datadog_apm_port | default(8126) }}
{% endif %}

## Log Collection
{% if datadog_logs_enabled | bool %}
logs_enabled: true
logs_config:
  container_collect_all: true
{% endif %}

## Process Monitoring
{% if datadog_process_enabled | bool %}
process_config:
  enabled: "true"
  process_collection:
    enabled: true
{% endif %}

## Network Performance Monitoring
{% if datadog_npm_enabled | bool %}
network_config:
  enabled: true
{% endif %}
